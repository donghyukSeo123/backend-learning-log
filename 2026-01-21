# 2026-01-21 – 인사장프로젝트 DB 설계와 데일리 로그 시작

## 오늘 한 것
- 콘텐츠 자동 생성 서비스 DB ERD 정리

## 오늘 알게 된 것
- JPA 사용 시 DB 관계는 객체 관계로 이어진다.
- 모든 연관관계를 설정하기보다는, 사용 빈도가 높은 관계만 양방향으로 관리하는 것이 유지보수에 유리하다.

## 정리
- DB 설계 결정은 JPA 사용 방식과 직접적으로 연결된다.
- 설계 의도를 설명할 수 있는 수준까지는 정리되었다.


## ⭐ Today’s Takeaway

## 🗑️ 소프트 삭제(Soft Delete) vs 물리 삭제(Hard Delete)

### 🔹 물리 삭제 (Hard Delete)
- DELETE 쿼리로 데이터를 실제 DB에서 제거
- 삭제 즉시 데이터가 완전히 사라짐

**장점**
- 구현이 단순함
- 조회 쿼리가 복잡해지지 않음
- 성능 관리가 쉬움

**단점**
- 삭제된 데이터 복구 불가
- 삭제 이력 관리 불가능

**적합한 경우**
- 초기 개발 단계
- 개인 프로젝트
- 이력 관리가 필요 없는 데이터

---

### 🔹 소프트 삭제 (Soft Delete)
- 데이터를 삭제하지 않고 삭제 상태로 표시
- 보통 `deleted_at` 컬럼 사용

**동작 방식**
- 삭제 시: `deleted_at`에 삭제 시각 저장
- 조회 시: `deleted_at IS NULL` 조건 필요

**장점**
- 데이터 복구 가능
- 삭제 이력 및 감사(Audit) 관리 가능

**단점**
- 모든 조회에 조건 관리 필요
- 쿼리 및 인덱스 설계가 복잡해짐
- JPA 사용 시 전역 필터/어노테이션 설정 필요

**적합한 경우**
- 운영 서비스
- 사용자 데이터
- 이력 관리가 중요한 시스템

---

### 📌 정리
- 단순함과 성능을 우선하면 → 물리 삭제
- 데이터 이력과 복구가 중요하면 → 소프트 삭제
- 초기 단계에서는 물리 삭제, 운영 단계에서는 소프트 삭제를 고려하는 것이 일반적이다.
