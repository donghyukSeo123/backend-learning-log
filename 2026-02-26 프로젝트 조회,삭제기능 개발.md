# 📅 2026-02-26 개발 일지: 프로젝트 삭제 기능 구현

### 1. 🛠 트러블슈팅: `undefined` 에러 해결
* **현상**: 삭제 요청 시 서버에서 `MethodArgumentTypeMismatchException` 발생 (For input string: "undefined")
* **원인**: 리액트에서 `p.project_id`를 참조했으나, 실제 백엔드 DTO가 반환하는 키값은 `id`였음. 존재하지 않는 필드를 참조하여 `undefined`가 서버로 전송됨.
* **해결**: 리액트의 모든 참조를 `p.id`로 수정하여 실제 PK값이 전달되도록 매핑 일치화.

### 2. 🛡 백엔드 보안: 소유권 검증 로직
* **핵심 메서드**: `findByIdAndUser_Id(projectId, userId)`
* **구현 이유**: 단순 `deleteById(id)` 사용 시, 타인의 프로젝트 ID를 가로채서 삭제할 수 있는 보안 취약점이 존재함.
* **적용**: 반드시 **"현재 로그인한 인사장님(User) ID"**와 **"삭제할 프로젝트 ID"**가 모두 일치할 때만 DB에서 삭제를 수행하도록 설계.

### 3. ⚡ 성능 최적화: Optimistic UI (상태 필터링)
* **로직**: `setProjects((prev) => prev.filter((p) => p.id !== projectId))`
* **효과**: 서버에 전체 목록을 다시 요청(GET)하지 않고, 메모리 상의 배열에서 삭제된 항목만 즉시 제거. 사용자에게 끊김 없는(Seamless) 속도감 제공.

---

### 💡 핵심 요약표

| 구분 | 내용 | 비고 |
| :--- | :--- | :--- |
| **에러 원인** | 프론트(`project_id`) vs 백엔드(`id`) 이름 불일치 | 매핑 주의 |
| **보안 핵심** | `projectId` + `userId` 동시 체크 | 권한 검증 필수 |
| **상태 관리** | `filter` 함수를 이용한 실시간 UI 반영 | UX 향상 |
